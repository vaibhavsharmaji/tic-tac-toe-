<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic_Tac_Toe</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body onload="init()">


    <div class="gamecontainer">
        

    <div class="main_div">

        <div class="headhead">

        <div class="headboard">
            <div class="headleft">
                <div class="Chancetitle">Chance '</div>
                <div id="setchance" class="chance">0</div>'
            </div>
            <div class="headcenter"><a id="lastline">Tic-Tac-Toe</a></div>
            <div class="headright"><i class="fa fa-refresh" onclick="init()"></i></div>
        </div></div>

        <div class="board" id="board">


            <div class="row1">
                <div id="col1" onclick="setfunction('col1')" class="col1">X</div>
                <div id="col2" onclick="setfunction('col2')" class="col2">X</div>
                <div id="col3" onclick="setfunction('col3')" class="col3">X</div>
            </div>


            <div class="row2">
                <div id="col4" onclick="setfunction('col4')" class="col1">X</div>
                <div id="col5" onclick="setfunction('col5')" class="col2">X</div>
                <div id="col6" onclick="setfunction('col6')" class="col3">X</div>
            </div>


            <div class="row3">
                <div id="col7" onclick="setfunction('col7')" class="col1">X</div>
                <div id="col8" onclick="setfunction('col8')"class="col2">X</div>
                <div id="col9" onclick="setfunction('col9')" class="col3">X</div>
            </div>

        </div>


    </div>

    
</div>

<script>
    let set = 0;
</script>


<script>
function init() 
{
    for(let i=1;i<=9;i++)
    {
        let id = "col" + (i);
        document.getElementById(id).innerHTML = "";
        document.getElementById(id).style.backgroundColor = 'white';
    }

    set = 0;
    document.getElementById("setchance").innerHTML = "0";
    document.getElementById("lastline").innerHTML = "Tic-Tac-Toe";
    document.getElementById('board').style.pointerEvents = 'auto';
    document.getElementById('lastline').style.color = 'white';
}
</script>


<script>
    function setfunction(id) {
        if(document.getElementById(id).innerHTML == "")
        {
            if(set == 1)
            document.getElementById(id).innerHTML = "X";
            else 
            document.getElementById(id).innerHTML = "0";
            set = 1 - set;

            if(set == 1)
            document.getElementById("setchance").innerHTML = "X";
            else
            document.getElementById("setchance").innerHTML = "0";

            check();
        }
    }
</script>


<script>
    function check() {

        col1 = document.getElementById("col1").innerHTML;
        col2 = document.getElementById("col2").innerHTML;
        col3 = document.getElementById("col3").innerHTML;

        col4 = document.getElementById("col4").innerHTML;
        col5 = document.getElementById("col5").innerHTML;
        col6 = document.getElementById("col6").innerHTML;

        col7 = document.getElementById("col7").innerHTML;
        col8 = document.getElementById("col8").innerHTML;
        col9 = document.getElementById("col9").innerHTML;

        let flag = true;

        if(flag & col1 == col2 & col2 == col3 & col1 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col1 + " Won";  
            fill("col3","col2","col1");
        }

        if(flag & col4 == col5 & col5 == col6 & col4 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col4 + " Won"; 
            fill("col4","col5","col6");
        }

        if(flag & col7 == col8 & col8 == col9 & col7 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col7 + " Won";
            fill("col7","col8","col9");
        }



        if(flag & col1 == col4 & col4 == col7 & col1 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col1 + " Won";
            fill("col1","col4","col7");
        }

        if(flag & col2 == col5 & col5 == col8 & col2 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col2 + " Won";
            fill("col2","col5","col8"); 
        }

        if(flag & col3 == col6 & col6 == col9 & col3 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col3 + " Won"; 
            fill("col3","col6","col9");
        }


        if(flag & col1 == col5 & col5 == col9 & col1 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col1 + " Won";
            fill("col1","col5","col9");
        }

        if(flag & col3 == col5 & col5 == col7 & col3 != "") 
        {
            flag = false;
            document.getElementById("lastline").innerHTML = "Player " + col3 + " Won"; 
            fill("col3","col5","col7");
        }

        if(flag) 
        istie();

        }
</script>


<script>
    function istie()
    {
        let cnt = 0;
        for(let i=1;i<=9;i++)
        {
            let id = "col" + (i);
            col = document.getElementById(id).innerHTML;
            if(col != "")
            cnt+=1;
        }


        console.log(cnt);
        console.log(typeof(cnt));
        if(cnt == 9) 
        {
            document.getElementById("lastline").innerHTML = "Match Tie"; 
            document.getElementById("lastline").style.color = "yellow";
        }
    }
</script>


<script>
    function block()
    {
        for(let i=1;i<=9;i++)
        {
            let id = "col" + (i);
            col = document.getElementById(id).innerHTML;
            if(col == "")
            document.getElementById(id).innerHTML = " ";
        }
    }
</script>

<script>
    function fill(id1,id2,id3)
    {   
        document.getElementById('board').style.pointerEvents = 'none';
        document.getElementById(id1).style.backgroundColor = "green";
        document.getElementById(id2).style.backgroundColor = "green";
        document.getElementById(id3).style.backgroundColor = "green";
        document.getElementById("lastline").style.color = "yellow";
    }
</script>
</body>
</html>